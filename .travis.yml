sudo: false
language: "python"
install:
  - "pip3 install -U pip"  # upgrade pip
  - "pip3 install codecov"  # test coverage
  - "pip3 install pylint pylint-exit"  # measure code lint
  - "git clone --depth=1 https://github.com/sirfoga/pyhal.git"  # clone repo
  - "cd pyhal"
  - "make pip-install"  # install
script:
  - "codecov"  # test coverage
  - "pylint3 -j 8 hal/* || pylint-exit $?"  # measure code lint
notifications:
  email: "false"  # no email notify
cache: "pip"
jobs:
  include:
    - stage: "coverage"
      python: "3.6"
      script: "codecov"
